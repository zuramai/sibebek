# Mosquitto Configuration for Sibebek Farm Monitoring
# =================================================

# General Settings
persistence true
persistence_location /mosquitto/data/
log_dest file /mosquitto/log/mosquitto.log
log_dest stdout

# Log settings
log_type error
log_type warning
log_type notice
log_type information

# Connection settings
max_queued_messages 1000
max_inflight_messages 100

# =================================================
# MQTT Protocol Listener (for ESP8266)
# Port 1883 - Standard MQTT
# =================================================
listener 1883
protocol mqtt
allow_anonymous true

# =================================================
# WebSocket Listener (for Web Browser)
# Port 9001 - MQTT over WebSocket
# =================================================
listener 9001
protocol websockets
allow_anonymous true

# Note: For production use, disable allow_anonymous and configure authentication:
# allow_anonymous false
# password_file /mosquitto/config/passwd

